!function(t,a){"function"==typeof define&&define.amd?define(["jquery","d3"],a):"object"==typeof exports?module.exports=a(require("jquery"),require("d3")):t.hystrixViewer=a(t.jQuery,t.d3)}(this,function(t,a){function e(a){var e=t("<div></div>").addClass("hystrix-row");t(a).append(e);var i=t("<div></div>").addClass("hystrix-menubar");t(e).append(i);var r=t("<div></div>").addClass("title").text("Circuit");t(i).append(r);var s=t("<div></div>").addClass("menu_actions").html('Sort: <a href="javascript://" onclick="hystrixViewer.sortByErrorThenVolume();">Error then Volume</a> | <a href="javascript://" onclick="hystrixViewer.sortAlphabetically();">Alphabetical</a> | <a href="javascript://" onclick="hystrixViewer.sortByVolume();">Volume</a> | <a href="javascript://" onclick="hystrixViewer.sortByError();">Error</a> | <a href="javascript://" onclick="hystrixViewer.sortByLatencyMean();">Mean</a> | <a href="javascript://" onclick="hystrixViewer.sortByLatencyMedian();">Median</a> | <a href="javascript://" onclick="hystrixViewer.sortByLatency90();">90</a> | <a href="javascript://" onclick="hystrixViewer.sortByLatency99();">99</a> | <a href="javascript://" onclick="hystrixViewer.sortByLatency995();">99.5</a> ');t(i).append(s);var d=t("<div></div>").addClass("menu_legend").html('<span class="success">Success</span> | <span class="shortCircuited">Short-Circuited</span> | <span class="badRequest"> Bad Request</span> | <span class="timeout">Timeout</span> | <span class="rejected">Rejected</span> | <span class="failure">Failure</span> | <span class="errorPercentage">Error %</span>');t(i).append(d),I="dependencies";var n=t("<div></div>").attr("id",I).addClass("hystrix-row").addClass("dependencies");t(a).append(n)}function i(a){var e=t("<div></div>").addClass("hystrix-row");t(a).append(e);var i=t("<div></div>").addClass("hystrix-menubar");t(e).append(i);var r=t("<div></div>").addClass("title").text("Thread Pools");t(i).append(r);var s=t("<div></div>").addClass("menu_actions").html('Sort: <a href="javascript://" onclick="hystrixViewer.sortThreadpoolAlphabetically();">Alphabetical</a> | <a href="javascript://" onclick="hystrixViewer.sortThreadpoolByVolume();">Volume</a>');t(i).append(s),T="dependencyThreadPools";var d=t("<div></div>").attr("id",T).addClass("hystrix-row").addClass("dependencyThreadPools");t(a).append(d)}function r(t){if(t.startsWith("gauge.hystrix.HystrixCommand")){var a=t.split(".");if(6==a.length){var e=a[0]+"."+a[1]+"."+a[2]+"."+a[3]+"."+a[4];if(!R[e]){var i=new l(I,e,a[3],a[4]);R[e]=i,y()}}}}function s(t){if(t.startsWith("gauge.hystrix.HystrixThreadPool")){var a=t.split(".");if(5==a.length){var e=a[0]+"."+a[1]+"."+a[2]+"."+a[3];if(!b[e]){var i=new f(T,e,a[3]);b[e]=i,C()}}}}function d(t,a,e){var i=e;if(t[_.GAUGE.type]){var r=t[_.GAUGE.type][a];if(r)try{r.value&&(i=c(r.value,4))}catch(t){}}return i}function n(t){var a=Math.round(t*Math.pow(10,1))/Math.pow(10,1),e=a.toString();return-1==e.indexOf(".")&&(e+=".0"),e}function c(t,a){a||(a=4);var e=Math.pow(10,a),i=t*e;return Math.round(i)/e}function l(e,i,r,s){this.parentDivId=e,this.circuitKey=i,this.serviceName=r,this.methodName=s,this.suffix="_"+this.methodName,this.initialized=!1,this.circuitDivId="CIRCUIT_"+this.suffix,this.chartDivId="chart_CIRCUIT_"+this.suffix,this.dataDivId=this.chartDivId+"_monitor_data",this.graphDivId="graph_CIRCUIT_"+this.suffix,this.data={},this.graphData=[],this.render=function(){if(!this.initialized){var a=t("#"+this.parentDivId),e=t("<div></div>").attr("id",this.circuitDivId).addClass("monitor").css({position:"relative"});a.append(e),this.addChart(e),this.addTitle(e),this.addData(e),this.addSparkline(e),this.initialized=!0}},this.refresh=function(t){this.preProcessData(t),this.render(),this.updateCircle(),this.updateData(),this.updateSparkline()},this.clear=function(){t(this.circuitDivId).empty(),delete this.circuitDivId,t(this.chartDivId).empty(),delete this.chartDivId,t(this.dataDivId).empty(),delete this.dataDivId,t(this.graphDivId).empty(),delete this.graphDivId,delete this.data,delete this.graphData},this.addChart=function(a){var e=t("<div></div>").attr("id",this.chartDivId).addClass("chart").css({position:"absolute",top:"0px",left:"0",float:"left",width:"100%",height:"100%"});a.append(e),this.addCircle(this.chartDivId)},this.addCircle=function(t){a.select("#"+t).append("svg:svg").attr("width","100%").attr("height","100%").append("svg:circle").style("fill","green").attr("cx","30%").attr("cy","30%").attr("r",5)},this.updateCircle=function(){var t=B(this.data.ratePerSecondPerHost);parseInt(t,10)>parseInt(D,10)&&(t=D);var e=V(this.data.ratePerSecondPerHost);parseInt(e,10)>parseInt(P,10)&&(e=P);var i=M(this.data.ratePerSecondPerHost);parseInt(i,10)>parseInt(w,10)&&(i=w),a.selectAll("#"+this.chartDivId+" circle").transition().duration(400).attr("cy",e).attr("cx",t).attr("r",i).style("fill",H(this.data.errorPercentage))},this.addTitle=function(a){var e='<p class="service-name"'+this.serviceName+">"+this.serviceName+'</p> <p class="name"'+this.serviceName+"."+this.methodName+">"+this.methodName+"</p>",i=t("<div></div>").css({position:"absolute",top:"0px",width:"100%",height:"30px",opacity:"0.8",background:"white"}).html(e);a.append(i)},this.addData=function(a){var e=t("<div></div>");t(e).css({position:"absolute",top:"30px",opacity:"0.8",background:"white",width:"100%",height:"95%"}),a.append(e);var i=t("<div></div>").attr("id",this.dataDivId).addClass("monitor_data");e.append(i)},this.updateData=function(){if(this.initialized){var a=t("#"+this.dataDivId);a.empty(),this.addCounters(a),this.addRate(a),this.addCircuitStatus(a),this.addDataTable(a),t("#"+this.circuitDivId).attr("rate_value",this.data.ratePerSecond).attr("error_then_volume",this.data.errorThenVolume),t("#"+this.circuitDivId+" a.errorPercentage").css("color",k(this.data.errorPercentage))}},this.addCounters=function(a){var e=t("<div></div>").addClass("counters");a.append(e);var i=t("<div></div>").addClass("hystrix-cell line").html('<a href="javascript://" title="Error Percentage [Timed-out + Threadpool Rejected + Failure / Total]"class="hystrix-tooltip errorPercentage"><span class="value">'+this.data.errorPercentage+"</span>%</a>");e.append(i);var r,s='<a href="javascript://" title="Timed-out Request Count"class="line hystrix-tooltip timeout"><span class="value">'+this.data.rollingCountTimeout+"</span></a>";r=this.data.rollingCountThreadPoolRejected?'<a href="javascript://" title="Threadpool Rejected Request Count"class="line hystrix-tooltip rejected"><span class="value">'+this.data.rollingCountThreadPoolRejected+"</span></a>":'<a href="javascript://" title="Semaphore Rejected Request Count"class="line hystrix-tooltip rejected"><span class="value">'+this.data.rollingCountSemaphoreRejected+"</span></a>";var d='<a href="javascript://" title="Failure Request Count"class="line hystrix-tooltip failure"><span class="value">'+this.data.rollingCountFailure+"</span></a>",n=t("<div></div>").addClass("hystrix-cell borderRight").html(s+"\n"+r+"\n"+d);e.append(n);var c='<a href="javascript://" title="Successful Request Count"class="line hystrix-tooltip success"><span class="value">'+this.data.rollingCountSuccess+"</span></a>",l='<a href="javascript://" title="Short-circuited Request Count"class="line hystrix-tooltip shortCircuited"><span class="value">'+this.data.rollingCountShortCircuited+"</span></a>",h='<a href="javascript://" title="Bad Request Count"class="line hystrix-tooltip badRequest"><span class="value">'+this.data.rollingCountBadRequests+"</span></a>",o=t("<div></div>").addClass("hystrix-cell borderRight").html(c+"\n"+l+"\n"+h);e.append(o)},this.addRate=function(a){var e='<a href="javascript://" title="Total Request Rate per Second per Reporting Host"class="hystrix-tooltip rate"><span class="smaller">Host: </span><span class="ratePerSecondPerHost">'+this.data.ratePerSecondPerHost+"</span>/s</a>",i=t("<div></div>").addClass("rate").html(e);a.append(i);var r='<a href="javascript://" title="Total Request Rate per Second for Cluster"class="hystrix-tooltip rate"><span class="smaller">Cluster: </span><span class="ratePerSecond">'+this.data.ratePerSecond+"</span>/s</a>",s=t("<div></div>").addClass("rate").html(r);a.append(s)},this.addCircuitStatus=function(a){var e="";this.data.propertyValue_circuitBreakerForceClosed&&(e='<span class="smaller">[ <font color="orange">Forced Closed</font> ]'),this.data.propertyValue_circuitBreakerForceOpen&&(e='Circuit <font color="red">Forced Open</font>'),e=this.data.isCircuitBreakerOpen===this.data.reportingHosts?'Circuit <font color="red">Open</font>':0===this.data.isCircuitBreakerOpen?'Circuit <font color="green">Closed</font>':void 0!==this.data.isCircuitBreakerOpen&&"object"==typeof this.data.isCircuitBreakerOpen?'Circuit <font color="red">Open '+this.data.isCircuitBreakerOpen.true+'</font> <font color="green">Closed '+this.data.isCircuitBreakerOpen.false:void 0!==this.data.isCircuitBreakerOpen?'Circuit <font color="orange">'+this.data.isCircuitBreakerOpen.toString().replace("true","Open").replace("false","Closed"):"Circuit &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";var i=t("<div></div>").addClass("circuitStatus").html(e);a.append(i)},this.addDataTable=function(a){var e=t("<div></div>").addClass("spacer");a.append(e);var i=t('<div class="tableRow"><div class="hystrix-cell hystrix-header hystrix-left">Hosts</div><div class="hystrix-cell hystrix-data hystrix-left">'+this.data.reportingHosts+' </div><div class="hystrix-cell hystrix-header hystrix-right">90th</div><div class="hystrix-cell hystrix-data hystrix-right latency90"><span class="value">'+this.data.latency90+"</span>ms </div></div>");a.append(i);var r=t('<div class="tableRow"><div class="hystrix-cell hystrix-header hystrix-left">Median</div><div class="hystrix-cell hystrix-data hystrix-left latencyMedian"><span class="value">'+this.data.latencyMedian+'</span>ms </div><div class="hystrix-cell hystrix-header hystrix-right">99th</div><div class="hystrix-cell hystrix-data hystrix-right latency99"><span class="value">'+this.data.latency99+"</span>ms </div></div>");a.append(r);var s=t('<div class="tableRow"><div class="hystrix-cell hystrix-header hystrix-left">Mean</div><div class="hystrix-cell hystrix-data hystrix-left latencyMean"><span class="value">'+this.data.latencyMean+'</span>ms</div><div class="hystrix-cell hystrix-header hystrix-right">99.5th</div><div class="hystrix-cell hystrix-data hystrix-right latency995"><span class="value">'+this.data.latency995+"</span>ms</div></div>");a.append(s)},this.addSparkline=function(e){var i=t("<div></div>").attr("id",this.graphDivId).addClass("graph").css({position:"absolute",top:"25px",left:"0",float:"left",width:"140px",height:"62px"});e.append(i),a.select("#"+this.graphDivId).append("svg:svg").attr("width","100%").attr("height","100%").append("svg:path")},this.updateSparkline=function(){var t=(new Date).getTime();for(this.graphData.push({v:parseFloat(this.data.ratePerSecond),t:t});this.graphData.length>200;)this.graphData.shift();if(1!==this.graphData.length||0!==this.graphData[0].v){this.graphData.length>1&&0===this.graphData[0].v&&0!==this.graphData[1].v&&this.graphData.shift();var e=a.scaleTime().domain([new Date(t-12e4),new Date(t)]).range([0,140]),i=a.min(this.graphData,function(t){return t.v}),r=a.max(this.graphData,function(t){return t.v}),s=a.scaleLinear().domain([i,r]).nice().range([60,0]),d=a.line().x(function(t){return e(new Date(t.t))}).y(function(t){return s(t.v)}).curve(a.curveBasis),n=this.graphData;a.selectAll("#"+this.graphDivId+" path").attr("d",function(t,a){return d(n)})}},this.preProcessData=function(t){this.data={};var a=d(t,this.circuitKey+".propertyValue_metricsRollingStatisticalWindowInMilliseconds",0)/1e3,e=d(t,this.circuitKey+".requestCount",0);e<0&&(e=0);var i=d(t,this.circuitKey+".reportingHosts",0);this.data.ratePerSecond=n(e/a),this.data.ratePerSecondPerHost=n(e/a/i),this.data.ratePerSecondPerHostDisplay=this.data.ratePerSecondPerHost,this.data.errorPercentage=d(t,this.circuitKey+".errorPercentage",0),this.data.errorThenVolume=isNaN(this.data.ratePerSecond)?-1:1e8*this.data.errorPercentage+this.data.ratePerSecond,this.data.rollingCountTimeout=d(t,this.circuitKey+".rollingCountTimeout",0);var r=d(t,this.circuitKey+".rollingCountThreadPoolRejected",-20);-20===r?this.data.rollingCountSemaphoreRejected=d(t,this.circuitKey+".rollingCountSemaphorePoolRejected",0):this.data.rollingCountThreadPoolRejected=r,this.data.rollingCountFailure=d(t,this.circuitKey+".rollingCountFailure",0),this.data.rollingCountSuccess=d(t,this.circuitKey+".rollingCountSuccess",0),this.data.rollingCountShortCircuited=d(t,this.circuitKey+".rollingCountShortCircuited",0),this.data.rollingCountBadRequests=d(t,this.circuitKey+".rollingCountBadRequests",0),this.data.reportingHosts=d(t,this.circuitKey+".reportingHosts",1),this.data.latency90=d(t,this.circuitKey+".90",0),this.data.latencyMedian=d(t,this.circuitKey+".50",0),this.data.latency99=d(t,this.circuitKey+".99",0),this.data.latencyMean=d(t,this.circuitKey+".latencyExecute_mean",0),this.data.latency995=d(t,this.circuitKey+".99.5",0)}}function h(a){var e=t("#dependencies div.monitor");z="rate_"+a,e.tsort({order:a,attr:"rate_value"})}function o(a){var e=t("#dependencies div.monitor");z="error_"+a,e.tsort(".errorPercentage .value",{order:a})}function p(a){var e=t("#dependencies div.monitor");z="error_then_volume_"+a,e.tsort({order:a,attr:"error_then_volume"})}function v(a){var e=t("#dependencies div.monitor");z="alph_"+a,e.tsort("p.name",{order:a})}function u(a,e){t("#dependencies div.monitor").tsort(e,{order:a})}function y(){"alph_asc"==z?v("asc"):"alph_desc"==z?v("desc"):"rate_asc"==z?h("asc"):"rate_desc"==z?h("desc"):"error_asc"==z?o("asc"):"error_desc"==z?o("desc"):"error_then_volume_asc"==z?p("asc"):"error_then_volume_desc"==z?p("desc"):"lat90_asc"==z?u("asc",".latency90 .value"):"lat90_desc"==z?u("desc",".latency90 .value"):"lat99_asc"==z?u("asc",".latency99 .value"):"lat99_desc"==z?u("desc",".latency99 .value"):"lat995_asc"==z?u("asc",".latency995 .value"):"lat995_desc"==z?u("desc",".latency995 .value"):"latMean_asc"==z?u("asc",".latencyMean .value"):"latMean_desc"==z?u("desc",".latencyMean .value"):"latMedian_asc"==z?u("asc",".latencyMedian .value"):"latMedian_desc"==z&&u("desc",".latencyMedian .value")}function f(e,i,r){this.parentDivId=e,this.circuitKey=i,this.serviceName=r,this.data={},this.initialized=!1,this.threadDivId="THREAD_POOL_"+this.serviceName,this.chartDivId="chart_THREAD_POOL_"+this.serviceName,this.dataDivId=this.chartDivId+"_monitor_data",this.refresh=function(t){this.preProcessData(t),this.render(),this.updateCircle(),this.updateData()},this.render=function(){if(!this.initialized){var a=t("#"+this.parentDivId),e=t("<div></div>").attr("id",this.threadDivId).addClass("monitor").css({position:"relative"});a.append(e),this.addChart(e),this.addTitle(e),this.addData(e),this.initialized=!0}},this.clear=function(){t(this.threadDivId).empty(),delete this.threadDivId,t(this.chartDivId).empty(),delete this.chartDivId,t(this.dataDivId).empty(),delete this.dataDivId,delete this.data},this.addChart=function(a){var e=t("<div></div>").attr("id",this.chartDivId).addClass("chart").css({position:"absolute",top:"0px",left:"0",float:"left",width:"100%",height:"100%"});a.append(e),this.addCircle(this.chartDivId)},this.addCircle=function(t){a.select("#"+t).append("svg:svg").attr("width","100%").attr("height","100%").append("svg:circle").style("fill","green").attr("cx","30%").attr("cy","30%").attr("r",5)},this.updateCircle=function(){var t=E(this.data.ratePerSecondPerHost);parseInt(t)>parseInt(D)&&(t=D);var e=O(this.data.ratePerSecondPerHost);parseInt(e)>parseInt(P)&&(e=P);var i=K(this.data.ratePerSecondPerHost);parseInt(i)>parseInt(w)&&(i=w),a.selectAll("#"+this.chartDivId+" circle").transition().duration(400).attr("cy",e).attr("cx",t).attr("r",i).style("fill",q(this.data.errorPercentage))},this.addTitle=function(a){var e='<p class="name"'+this.serviceName+">"+this.serviceName+"</p>",i=t("<div></div>").css({position:"absolute",top:"0px",width:"100%",height:"15px",opacity:"0.8",background:"white"}).html(e);a.append(i)},this.addData=function(a){var e=t("<div></div>");t(e).css({position:"absolute",top:"15px",opacity:"0.8",background:"white",width:"100%",height:"95%"}),a.append(e);var i=t("<div></div>").attr("id",this.dataDivId).addClass("monitor_data");e.append(i)},this.updateData=function(){if(this.initialized){var a=t("#"+this.dataDivId);a.empty();var e=t("<div></div>").addClass("spacer");a.append(e),this.addRate(a),this.addDataTable(a)}},this.addRate=function(a){var e='<a href="javascript://" title="Total Execution Rate per Second per Reporting Host" class="hystrix-tooltip rate"><span class="smaller">Host: </span><span class="ratePerSecondPerHost">'+this.data.ratePerSecondPerHost+"</span>/s</a>",i=t("<div></div>").addClass("rate").html(e);a.append(i);var r='<a href="javascript://" title="Total Execution Rate per Second for Cluster" class="hystrix-tooltip rate"><span class="smaller">Cluster: </span><span class="ratePerSecond">'+this.data.ratePerSecond+"</span>/s</a>",s=t("<div></div>").addClass("rate").html(r);a.append(s)},this.addDataTable=function(a){var e=t("<div></div>").addClass("spacer");a.append(e);var i=t('<div class="tableRow"><div class="hystrix-cell hystrix-header hystrix-left">Active</div><div class="hystrix-cell hystrix-data hystrix-left">'+this.data.currentActiveCount+' </div><div class="hystrix-cell hystrix-header hystrix-right">Max Active</div><div class="hystrix-cell hystrix-data hystrix-right">'+this.data.rollingMaxActiveThreads+"</div></div>");a.append(i);var r=t('<div class="tableRow"><div class="hystrix-cell hystrix-header hystrix-left">Queued</div><div class="hystrix-cell hystrix-data hystrix-left"><span class="value">'+this.data.currentQueueSize+'</span></div><div class="hystrix-cell hystrix-header hystrix-right">Executions</div><div class="hystrix-cell hystrix-data hystrix-right"><span class="value">'+this.data.rollingCountThreadsExecuted+"</span></div></div>");a.append(r);var s=t('<div class="tableRow"><div class="hystrix-cell hystrix-header hystrix-left">Pool Size</div><div class="hystrix-cell hystrix-data hystrix-left"><span class="value">'+this.data.currentPoolSize+'</span></div><div class="hystrix-cell hystrix-header hystrix-right">Queue Size</div><div class="hystrix-cell hystrix-data hystrix-right"><span class="value">'+this.data.propertyValue_queueSizeRejectionThreshold+"</span></div></div>");a.append(s)},this.preProcessData=function(t){this.data={};var a=d(t,this.circuitKey+".reportingHosts",1);this.data.reportingHosts=a;var e=d(t,this.circuitKey+".propertyValue_queueSizeRejectionThreshold",0);this.data.propertyValue_queueSizeRejectionThreshold=n(e/a);var i=d(t,this.circuitKey+".propertyValue_metricsRollingStatisticalWindowInMilliseconds",0);this.data.propertyValue_metricsRollingStatisticalWindowInMilliseconds=n(i/a);var r=this.data.propertyValue_metricsRollingStatisticalWindowInMilliseconds/1e3,s=d(t,this.circuitKey+".rollingCountThreadsExecuted",1);s<0&&(s=0),this.data.ratePerSecond=n(s/r),this.data.ratePerSecondPerHost=n(s/r/a),this.data.currentActiveCount=d(t,this.circuitKey+".currentActiveCount",1),this.data.rollingMaxActiveThreads=d(t,this.circuitKey+".rollingMaxActiveThreads",1),this.data.currentQueueSize=d(t,this.circuitKey+".currentQueueSize",1),this.data.rollingCountThreadsExecuted=d(t,this.circuitKey+".rollingCountThreadsExecuted",1),this.data.currentPoolSize=d(t,this.circuitKey+".currentPoolSize",1),this.data.propertyValue_queueSizeRejectionThreshold=d(t,this.circuitKey+".propertyValue_queueSizeRejectionThreshold",1),this.data.currentQueueSize=d(t,this.circuitKey+".currentQueueSize",1),this.data.errorPercentage=this.data.currentQueueSize/this.data.reportingHosts}}function x(a){var e=t("#dependencyThreadPools div.monitor");A="alph_"+a,e.tsort("p.name",{order:a})}function g(a){var e=t("#dependencyThreadPools div.monitor");A="rate_"+a,e.tsort({order:a,attr:"rate_value"})}function m(a,e){t("#dependencyThreadPools div.monitor").tsort(e,{order:a})}function C(){"alph_asc"==A?x("asc"):"alph_desc"==A?x("desc"):"rate_asc"==A?g("asc"):"rate_desc"==A?g("desc"):"lat90_asc"==A?m("asc","p90"):"lat90_desc"==A?m("desc","p90"):"lat99_asc"==A?m("asc","p99"):"lat99_desc"==A?m("desc","p99"):"lat995_asc"==A?m("asc","p995"):"lat995_desc"==A?m("desc","p995"):"latMean_asc"==A?m("asc","pMean"):"latMean_desc"==A?m("desc","pMean"):"latMedian_asc"==A?m("asc","pMedian"):"latMedian_desc"==A&&m("desc","pMedian")}window.hystrixViewer={version:"1.0.0"},hystrixViewer.addHystrixDashboard=function(a){S=a;var r=t("<div></div>").addClass("hystrix-outer-container");t(S).append(r);var s=t("<div></div>").attr("id","hystrix-header").html("<h2><span id='title_name'>Hystrix Metrics</span></h2>");r.append(s);var d=t("<div></div>").addClass("hystrix-container");r.append(d),e(d);var n=t("<div></div>").addClass("hystrix-spacer");t(d).append(n),i(d)},hystrixViewer.refresh=function(t){if(S){j(t);for(var a in R)R.hasOwnProperty(a)&&R[a].refresh(t);for(var e in b)b.hasOwnProperty(e)&&b[e].refresh(t)}},hystrixViewer.clear=function(){for(var t in R)R.hasOwnProperty(t)&&R[t].clear();R={};for(var a in b)b.hasOwnProperty(a)&&b[a].clear();b={}};var _={COUNTER:{type:"counters"},GAUGE:{type:"gauges"},METER:{type:"meters"},TIMER:{type:"timers"}};Object.freeze(_);Object.freeze(100);var D="40%";Object.freeze(D);var P="40%";Object.freeze(P);var w="125";Object.freeze(w);var S,I,T,R={},b={},j=function(a){for(var e in a)if(a.hasOwnProperty(e)&&e===_.GAUGE.type){var i=a[_.GAUGE.type];t.each(i,function(t,a){r(t),s(t)})}},M=a.scalePow().exponent(.5).domain([0,400]).range(["5",w]),V=a.scaleLinear().domain([0,400]).range(["30%",D]),B=a.scaleLinear().domain([0,400]).range(["30%",P]),H=a.scaleLinear().domain([10,25,40,50]).range(["green","#FFCC00","#FF9900","red"]),k=a.scaleLinear().domain([0,10,35,50]).range(["grey","black","#FF9900","red"]),z="alph_asc";hystrixViewer.sortByVolume=function(){var t="desc";"rate_desc"==z&&(t="asc"),h(t)},hystrixViewer.sortByError=function(){var t="desc";"error_desc"==z&&(t="asc"),o(t)},hystrixViewer.sortByErrorThenVolume=function(){var t="desc";"error_then_volume_desc"==z&&(t="asc"),p(t)},hystrixViewer.sortAlphabetically=function(){var t="asc";"alph_asc"==z&&(t="desc"),v(t)},hystrixViewer.sortByLatency90=function(){var t="desc";"lat90_desc"==z&&(t="asc"),z="lat90_"+t,u(t,".latency90 .value")},hystrixViewer.sortByLatency99=function(){var t="desc";"lat99_desc"==z&&(t="asc"),z="lat99_"+t,u(t,".latency99 .value")},hystrixViewer.sortByLatency995=function(){var t="desc";"lat995_desc"==z&&(t="asc"),z="lat995_"+t,u(t,".latency995 .value")},hystrixViewer.sortByLatencyMean=function(){var t="desc";"latMean_desc"==z&&(t="asc"),z="latMean_"+t,u(t,".latencyMean .value")},hystrixViewer.sortByLatencyMedian=function(){var t="desc";"latMedian_desc"==z&&(t="asc"),z="latMedian_"+t,u(t,".latencyMedian .value")};Object.freeze(2e3);var K=a.scalePow().exponent(.5).domain([0,2e3]).range(["5",w]),O=a.scaleLinear().domain([0,2e3]).range(["30%",D]),E=a.scaleLinear().domain([0,2e3]).range(["30%",P]),q=a.scaleLinear().domain([10,25,40,50]).range(["green","#FFCC00","#FF9900","red"]),A=(a.scaleLinear().domain([0,10,35,50]).range(["grey","black","#FF9900","red"]),"alph_asc");return hystrixViewer.sortThreadpoolAlphabetically=function(){var t="asc";"alph_asc"==A&&(t="desc"),x(t)},hystrixViewer.sortThreadpoolByVolume=function(){var t="desc";"rate_desc"==A&&(t="asc"),g(t)},hystrixViewer});